<Page
    x:Class="UlmUniversityNews.Views.StartPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UlmUniversityNews.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Page.Resources>
        <Flyout x:Key="ErrorFlyout">
            <Grid Background="Black">
                <TextBlock 
                    FontSize="14"
                    Foreground="White"
                    TextWrapping="Wrap" 
                    x:Name="ErrorFlyoutMessage"
                    x:Uid="ErrorFyloutMessageKey"
                    Text="" />
            </Grid>
        </Flyout>
        
        <!-- Style für die Texte auf der Startseite. -->
        <Style
            x:Key="StartPageTextStyle"
            TargetType="TextBlock">
            <Setter Property="FontSize"  Value="16"/>
            <Setter Property="TextWrapping" Value="WrapWholeWords" />
        </Style>
    </Page.Resources>
    
    <!-- Command Bar -->
    <Page.BottomAppBar>
        <CommandBar Background="#7D9AAA">
            <AppBarButton 
                x:Name="CreateAccount"
                x:Uid="StartPageCreateAccountButton"
                Icon="Accept"
                Label="create account"
                Command="{Binding CreateUserCommand}"/>
        </CommandBar>
    </Page.BottomAppBar>

    <Grid x:Name="LayoutRoot">

        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition/>
            </TransitionCollection>
        </Grid.ChildrenTransitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Titelbereich - Drawer Menü-->
        <Grid Grid.Row="0"
              Style="{StaticResource DrawerMenuTitleBar}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Drawer Icon - zeigt hier das Uni Logo -->
            <Image x:Name="DrawerIcon" 
                   Grid.Column="0"
                   Style="{StaticResource DrawerIconStyle}"
                   Source="/Assets/AppIcons/Logo-Uni.png" />

            <!-- Drawer Text -->
            <TextBlock x:Uid="StartPageTitle"
                       Grid.Column="1"
                       Style="{StaticResource DrawerTextStyle}"
                       Text="Start Page" />
        </Grid>

        <!-- Inhalte innerhalb des folgenden Rasters platziert. -->
        <Grid Grid.Row="1" x:Name="ContentRoot" Margin="19,9.5,19,0">
            <StackPanel>
                <TextBlock Text="Ulm University News" 
                           Style="{StaticResource SubheaderTextBlockStyle}" />
                <TextBlock Margin="0,10,0,0"
                           x:Uid="StartPageWelcomeText"
                           Text="Willkommen bei University News." 
                           Style="{StaticResource StartPageTextStyle}" />
                <TextBlock x:Uid="StartPageUsernameDescription"
                           Text="Um diese Anwendung zu nutzen, müssen sie einen Nutzernamen angeben. Der Nutzername wird verwendet, um von Ihnen erstellte Nachrichten für andere Nutzer identifzierbar zu machen." 
                           Style="{StaticResource StartPageTextStyle}" />
                <TextBox x:Name="UserName"
                         x:Uid="StartPageUsernameTextBox"
                         Header="Nutzername"
                         InputScope="AlphanumericFullWidth"
                         Text="{Binding UserName, Mode=TwoWay}"/>
                <TextBlock x:Name="ErrorText" 
                           Style="{StaticResource StartPageTextStyle}"
                           Foreground="Red"  />
            </StackPanel>
        </Grid>
    </Grid>
</Page>

